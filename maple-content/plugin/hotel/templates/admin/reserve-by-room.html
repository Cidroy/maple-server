<div class="parallax-container" style="height : 40vh; padding: 20px">
	<div class="parallax">
		<img src="{{ rooms.image }}">
	</div>
	{% if permission["hotel-rooms-edit"] %}
	<a href="{{ rooms.url.edit }}" style="bottom:30px;right:20px;position:absolute;" class="btn btn-floating btn-large blue right"> <i class="material-icons">edit</i> </a>
	{% endif %}
	<div style="bottom:0px;position:absolute;">
		<h1 class="white-text black" style="padding: 5px 15px;">Room : {{ rooms.number }}</h1>
		<h3 class="white-text black" style="padding: 5px 15px;">
			<a href="{{ rooms.type.url.detail }}">{{ rooms.type.name }}</a>
		</h3>
	</div>
</div>
{% for m in errors %}
<div class="card" style="margin: 5 0 0 2;border-left: 5px solid
{% if m.type == "success" %} green
{% elseif m.type == "error" %} 	 red
{% elseif m.type == "warning" %} orange
{% else %} blue
{% endif %}
;">
	<div class="card-content" style="padding: 10">
		<p><strong>{{ m.title|raw }}</strong></p>
		<p>{{ m.message|raw }}</p>
	</div>
</div>
{% endfor %}
<h2 class="header">Reserve</h2>
<form action="{{ maple.url.current }}" method="get">
	{% for request,value in form.request  %}
		{% if value is iterable %}
			{% for key,val in value %}
				{% if val is iterable %}
					{% for k,v in val %}
						{% if v is iterable %}
						{% else %}
	<input type="text" name="{{ request }}[{{ key }}][{{ k }}]" value="{{ v }}" hidden="true">
						{% endif %}
					{% endfor %}
				{% else %}
	<input type="text" name="{{ request }}[{{ key }}]" value="{{ val }}" hidden="true">
				{% endif %}
			{% endfor %}
		{% else %}
	<input type="text" name="{{ request }}" value="{{ value }}" hidden="true">
		{% endif %}
	{% endfor %}
	<div class="card">
		<div class="card-content">
			<div class="row">
				<div class="col s12">
					<label for="fromss">From</label>
					<input type="date" name="from" id="fromss" class="datepicker" {% if maple.request.from %} value="{{ maple.request.from|date("Y-m-d") }}" {% else %} value="{{ "now"|date("Y-m-d") }}" {% endif %} min="{{ "now"|date("Y-m-d") }}" >
				</div>
				<div class="col s12">
					<label for="toss">To</label>
					<input type="date" name="to" id="toss" class="datepicker" {% if maple.request.to %} value="{{ maple.request.to|date("Y-m-d") }}" {% else %} value="{{ "now"|date("Y-m-d") }}" {% endif %} min="{{ "now"|date("Y-m-d") }}" >
				</div>
			</div>
		</div>
	</div>
	{% if not maple.request["client-type"] %}
	<div class="card">
		<div class="card-content">
			<h5 class="card-title">Client Type</h5>
			<div class="row">
				<div class="col s12 m6">
					<input name="client-type" type="radio" id="test1" value="new" checked="true" />
      				<label for="test1">New</label>
				</div>
				<div class="col s12 m6">
					<input name="client-type" type="radio" id="test2" value="existing" />
      				<label for="test2">Existing</label>
				</div>
			</div>
		</div>
	</div>
	{% endif %}
	{% if maple.request["client-type"] == "new" %}
	<div class="card">
		<div class="card-content">
			<h5 class="card-title blue-text">New Client Details</h5>
			<div class="row">
				<div class="col s12 input-field">
					<input type="text" name="client[name]" id="name" value="{{ maple.request.client.name }}">
					<label for="name">Name</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[phone]" id="phone" value="{{ maple.request.client.phone }}">
					<label for="phone">Phone</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[email]" id="email" value="{{ maple.request.client.email }}">
					<label for="email">E-Mail</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[passport]" id="passport" value="{{ maple.request.client.passport }}">
					<label for="passport">Passport</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[address]" id="address" value="{{ maple.request.client.address }}">
					<label for="address">Address</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[city]" id="city" value="{{ maple.request.client.city }}">
					<label for="city">City</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[state]" id="state" value="{{ maple.request.client.state }}">
					<label for="state">State</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" name="client[zip]" id="zip" value="{{ maple.request.client.zip }}">
					<label for="zip">Zip</label>
				</div>
			</div>
		</div>
	</div>
	{% elseif maple.request["client-type"] == "existing" %}
	<div class="card">
		<div class="card-content" style="overflow: hidden; overflow-x: scroll; width: 100%;">
			<h5 class="card-title">Please Select Client</h5>
			<table class="highlight responsive" id="clients-datatable">
				<thead class="blue lighten-4">
					<th></th>
					<th>Name</th>
					<th>Email</th>
					<th>Phone</th>
				</thead>
				<tbody>
					{% for c in clients %}
					<tr>
						<td><input name="client" type="radio" id="cc{{ c.id }}" value="{{ c.id }}" checked="true" /><label for="cc{{ c.id }}"></label></td>
						<td>{{ c.name }}</td>
						<td>{{ c.email }}</td>
						<td>{{ c.phone }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	{% elseif maple.request["client-type"] == "selected" %}
	<div class="card">
		<div class="card-content">
			{% if permission["hotel-client-edit"] %}
			<a href="{{ client.url.edit }}" class="btn btn-floating btn-large blue right"> <i class="material-icons">edit</i> </a>
			{% endif %}
			<h5 class="card-title">Client Details</h5>
			<div class="row">
				<div class="col s12 input-field">
					<input type="text" id="name" value="{{ client.name }}" readonly="true">
					<label for="name">Name</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="phone" value="{{ client.phone }}" readonly="true">
					<label for="phone">Phone</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="email" value="{{ client.email }}" readonly="true">
					<label for="email">E-Mail</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="passport" value="{{ client.passport }}" readonly="true">
					<label for="passport">Passport</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="address" value="{{ client.address }}" readonly="true">
					<label for="address">Address</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="city" value="{{ client.city }}" readonly="true">
					<label for="city">City</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="state" value="{{ client.state }}" readonly="true">
					<label for="state">State</label>
				</div>
				<div class="col s12 input-field">
					<input type="text" id="zip" value="{{ client.zip }}" readonly="true">
					<label for="zip">Zip</label>
				</div>
			</div>
		</div>
	</div>
	{% endif %}
	{% if maple.request.finish %}
	<div class="card">
		<div class="card-content">
			<div class="row">
				<div class="col s12 input-field">
					<input type="text" name="comment" id="comment">
					<label for="comment">Comment</label>
				</div>
			</div>
		</div>
	</div>
	{{ payment|raw }}
	<input type="text" name="redirect_to" value="{{ url.current }}" hidden="true">
	<button type="submit" class="btn blue">Done</button>
	{% else %}
	<button type="submit" class="btn blue">Next</button>
	{% endif %}
</form>
